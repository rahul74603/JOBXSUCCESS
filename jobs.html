<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░реА рдЕрдкрдбреЗрдЯ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ЁЯУв рддрд╛рдЬрд╝рд╛ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░рд┐рдпрд╛рдБ</h1>

    <!-- Filters -->
    <div class="filters">
        <select id="jobTypeFilter">
            <option value="">рдиреМрдХрд░реА рдХрд╛ рдкреНрд░рдХрд╛рд░ рдЪреБрдиреЗрдВ</option>
            <option value="Full-time">Full-time</option>
            <option value="Part-time">Part-time</option>
        </select>
        
        <select id="locationFilter">
            <option value="">рд╕реНрдерд╛рди рдЪреБрдиреЗрдВ</option>
            <option value="Delhi">рджрд┐рд▓реНрд▓реА</option>
            <option value="Mumbai">рдореБрдВрдмрдИ</option>
            <option value="Bangalore">рдмреЗрдВрдЧрд▓реБрд░реБ</option>
        </select>

        <button onclick="applyFilters()">ЁЯФН рдлрд╝рд┐рд▓реНрдЯрд░ рд▓рд╛рдЧреВ рдХрд░реЗрдВ</button>
    </div>

    <!-- Loading Animation -->
    <div id="loading">тП│ рдиреМрдХрд░рд┐рдпрд╛рдБ рд▓реЛрдб рд╣реЛ рд░рд╣реА рд╣реИрдВ...</div>

    <!-- Jobs Container -->
    <div id="jobs-container"></div>

    <!-- тЬЕ Config.js Include -->
    <script src="config.js"></script>

    <script>
        let allJobs = [];

        // тЬЕ Fetch Jobs Data from API
        async function fetchJobs() {
            document.getElementById("loading").style.display = "block"; // Show Loading
            try {
                let response = await fetch(API_URL);
                let data = await response.json();
                allJobs = data; // Save Data for Filtering
                displayJobs(allJobs);
            } catch (error) {
                console.error("тЭМ рдЬреЙрдм рд▓рд╛рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛:", error);
            }
            document.getElementById("loading").style.display = "none"; // Hide Loading
        }

        // тЬЕ Display Jobs
        function displayJobs(jobs) {
            let container = document.getElementById("jobs-container");
            container.innerHTML = "";
            if (jobs.length === 0) {
                container.innerHTML = "<p>тЪая╕П рдХреЛрдИ рдиреМрдХрд░реА рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ!</p>";
                return;
            }
            jobs.forEach(job => {
                let jobCard = `
                    <div class="job">
                        <h3>${job.title}</h3>
                        <p><strong>ЁЯПв рдХрдВрдкрдиреА:</strong> ${job.company}</p>
                        <p><strong>ЁЯУН рд╕реНрдерд╛рди:</strong> ${job.location}</p>
                        <p><strong>ЁЯТ╝ рдкреНрд░рдХрд╛рд░:</strong> ${job.type}</p>
                        <a href="${job.link}" target="_blank">тЮбя╕П рдЕрднреА рдЖрд╡реЗрджрди рдХрд░реЗрдВ</a>
                    </div>
                `;
                container.innerHTML += jobCard;
            });
        }

        // тЬЕ Apply Filters
        function applyFilters() {
            let type = document.getElementById("jobTypeFilter").value;
            let location = document.getElementById("locationFilter").value;

            let filteredJobs = allJobs.filter(job => 
                (type ? job.type === type : true) &&
                (location ? job.location === location : true)
            );

            displayJobs(filteredJobs);
        }

        fetchJobs(); // Load Jobs on Page Load
    </script>
</body>
</html>
