<!-- ‚úÖ Config.js ‡§™‡§π‡§≤‡•á ‡§≤‡•ã‡§° ‡§π‡•ã -->
<script src="config.js" defer></script>

<script>
    document.addEventListener("DOMContentLoaded", async function () {
        console.log("üöÄ Config.js ‡§≤‡•ã‡§° ‡§π‡•Å‡§Ü:", API_URL); // ‚úÖ Debugging

        async function fetchJobs() {
            try {
                const apiUrl = API_URL;
                const response = await fetch(apiUrl);
                const jobs = await response.json();

                const tableBody = document.querySelector("#jobs-table tbody");
                tableBody.innerHTML = "";

                jobs.forEach(job => {
                    const row = document.createElement("tr");

                    const titleCell = document.createElement("td");
                    titleCell.textContent = job.title;
                    row.appendChild(titleCell);

                    const orgCell = document.createElement("td");
                    orgCell.textContent = job.organization;
                    row.appendChild(orgCell);

                    const dateCell = document.createElement("td");
                    dateCell.textContent = job.lastDate;
                    row.appendChild(dateCell);

                    const linkCell = document.createElement("td");
                    const link = document.createElement("a");
                    link.href = job.applyLink;
                    link.textContent = "Apply";
                    link.target = "_blank";
                    linkCell.appendChild(link);
                    row.appendChild(linkCell);

                    tableBody.appendChild(row);
                });

                document.getElementById("loading").style.display = "none";
            } catch (error) {
                document.getElementById("loading").textContent = "‚ùå ‡§ú‡•â‡§¨ ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ!";
                console.error("Error fetching jobs:", error);
            }
        }

        fetchJobs();
    });
</script>
