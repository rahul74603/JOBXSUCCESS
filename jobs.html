<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░рд┐рдпрд╛рдБ - JobXSuccess</title>
    <link rel="stylesheet" href="style.css"> <!-- CSS рдлрд╝рд╛рдЗрд▓ рд╕рд╣реА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП -->
</head>
<body>

    <!-- ЁЯФ╣ Navigation Bar -->
    <div class="navbar">
        <a href="index.html">ЁЯПа Home</a>
        <a href="jobs.html" class="active">ЁЯУМ Government Jobs</a>
        <a href="study.html">ЁЯУЪ Study Materials</a>
    </div>

    <h1>ЁЯУМ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░рд┐рдпрд╛рдБ</h1>
    
    <!-- тЬЕ рдЬреЙрдмреНрд╕ рд▓рд┐рд╕реНрдЯ -->
    <div id="jobs-container">
        <ul id="jobs-list"></ul>
    </div>

    <!-- ЁЯФе Firebase SDK + Config -->
    <script type="module">
        // ЁЯФ╣ рд╕рд╣реА Firestore рдореЙрдбреНрдпреВрд▓реНрд╕ рдЗрдВрдкреЛрд░реНрдЯ рдХрд░реЗрдВ
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";
        import { firebaseConfig } from "./firebase-config.js"; // тЬЕ Firebase Config

        // тЬЕ Firebase Initialize
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // тЬЕ Firestore рд╕реЗ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░реА рдХреА рд▓рд┐рд╕реНрдЯ рд▓реЛрдб рдХрд░рдирд╛
        const jobsList = document.getElementById("jobs-list");
        const jobsCollection = collection(db, "Jobs"); // ЁЯФ╣ Firestore рдХрд╛ рд╕рд╣реА рд╕рд┐рдВрдЯреИрдХреНрд╕

        onSnapshot(jobsCollection, (querySnapshot) => { // ЁЯФ╣ onSnapshot рдХрд╛ рдЙрдкрдпреЛрдЧ
            jobsList.innerHTML = "";
            if (!querySnapshot.empty) {
                querySnapshot.forEach((doc) => {
                    const job = doc.data();
                    const li = document.createElement("li");

                    // тЬЕ рдорд┐рд╕рд┐рдВрдЧ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП N/A
                    const title = job.title || "N/A";
                    const company = job.company || "N/A";
                    const location = job.location || "N/A";
                    const applyLink = job.applyLink || "#";
                    const lastDate = job.lastDate ? `ЁЯУЕ Last Date: ${job.lastDate}` : "ЁЯУЕ No Deadline";

                    li.classList.add("job");
                    li.innerHTML = `
                        <strong>${title}</strong> - <em>${company}</em> <br>
                        ЁЯМН Location: ${location} <br>
                        ${lastDate} <br>
                        <a href="${applyLink}" target="_blank" class="apply-btn">ЁЯФЧ Apply Now</a>
                    `;
                    jobsList.appendChild(li);
                });
            } else {
                jobsList.innerHTML = "<p>тЪая╕П рдХреЛрдИ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░реА рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред</p>";
            }
        });
    </script>

</body>
</html>
