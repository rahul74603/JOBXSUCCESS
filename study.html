<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìö study-materials - JOBXSUCCESS</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        h1 { color: #333; }
        .container { display: flex; flex-wrap: wrap; justify-content: center; }
        .box { 
            width: 200px; 
            margin: 10px; 
            padding: 15px; 
            border: 1px solid #ddd; 
            border-radius: 5px; 
            background-color: #f9f9f9; 
            transition: transform 0.2s; 
        }
        .box:hover { transform: translateY(-5px); }
        .box a { 
            text-decoration: none; 
            font-size: 18px; 
            color: #007BFF; 
            display: block; 
        }
        .error { color: red; font-weight: bold; }
        .loading { color: orange; }
    </style>
</head>
<body>

<!-- üîπ Navigation Bar -->
<div class="navbar">
    <a href="index.html">üè† Home</a>
    <a href="jobs.html">üìå Government Jobs</a>
    <a href="study.html" class="active">üìö study-materials</a>
</div>

<h1>üìö ‡§´‡•ç‡§∞‡•Ä ‡§∏‡•ç‡§ü‡§°‡•Ä ‡§Æ‡§ü‡•á‡§∞‡§ø‡§Ø‡§≤‡•ç‡§∏</h1>

<!-- üî• Study Materials (GitHub ‡§∏‡•á) -->
<div class="container" id="github-materials"></div>

<script>
    // üîπ ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§ü‡•á‡§ü
    const githubList = document.getElementById("github-materials");
    githubList.innerHTML = "<p class='loading'>‚è≥ ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>";

    async function fetchGitHubMaterials() {
        const githubRepo = "https://api.github.com/repos/rahul74603/JOBXSUCCESS/contents/study-materials";
        
        try {
            const response = await fetch(githubRepo);
            if (!response.ok) throw new Error(`GitHub API Error: ${response.status}`);

            const folders = await response.json();
            githubList.innerHTML = ""; // üîπ Clear previous content

            if (folders.length === 0) {
                githubList.innerHTML = "<p class='error'>‚ö†Ô∏è ‡§ï‡•ã‡§à ‡§∏‡•ç‡§ü‡§°‡•Ä ‡§Æ‡§ü‡•á‡§∞‡§ø‡§Ø‡§≤ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§</p>";
                return;
            }

            folders.forEach(folder => {
                if (folder.type === "dir") {
                    const div = document.createElement("div");
                    div.className = "box";
                    div.innerHTML = `<a href="#" onclick="loadCategory('${folder.name}')">üìÇ ${folder.name}</a>`;
                    githubList.appendChild(div);
                }
            });

        } catch (error) {
            githubList.innerHTML = `<p class='error'>‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ${error.message}</p>`;
            console.error("GitHub ‡§∏‡•á ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§:", error);
        }
    }

    // üîπ ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡§æ
    window.loadCategory = async function (category) {
        githubList.innerHTML = "<p class='loading'>‚è≥ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>";
        const categoryRepo = `https://api.github.com/repos/rahul74603/JOBXSUCCESS/contents/study-materials/${category}`;

        try {
            const response = await fetch(categoryRepo);
            if (!response.ok) throw new Error(`GitHub API Error: ${response.status}`);

            const subFolders = await response.json();
            githubList.innerHTML = `<h2>üìÇ ${category}</h2>`;

            if (subFolders.length === 0) {
                githubList.innerHTML += "<p class='error'>‚ö†Ô∏è ‡§á‡§∏ ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</p>";
                return;
            }

            subFolders.forEach(subFolder => {
                if (subFolder.type === "dir") {
                    const div = document.createElement("div");
                    div.className = "box";
                    div.innerHTML = `<a href="#" onclick="loadFiles('${category}', '${subFolder.name}')">üìÅ ${subFolder.name}</a>`;
                    githubList.appendChild(div);
                }
            });

        } catch (error) {
            githubList.innerHTML = `<p class='error'>‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ${error.message}</p>`;
            console.error("GitHub ‡§∏‡•á ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§:", error);
        }
    };

    // üîπ ‡§´‡§æ‡§á‡§≤‡•ç‡§∏ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡§æ
    window.loadFiles = async function (category, subCategory) {
        githubList.innerHTML = "<p class='loading'>‚è≥ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>";
        const filesRepo = `https://api.github.com/repos/rahul74603/JOBXSUCCESS/contents/study-materials/${category}/${subCategory}`;

        try {
            const response = await fetch(filesRepo);
            if (!response.ok) throw new Error(`GitHub API Error: ${response.status}`);

            const files = await response.json();
            githubList.innerHTML = `<h2>üìÅ ${subCategory} (üìÇ ${category})</h2>`;

            if (files.length === 0) {
                githubList.innerHTML += "<p class='error'>‚ö†Ô∏è ‡§á‡§∏ ‡§´‡•ã‡§≤‡•ç‡§°‡§∞ ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</p>";
                return;
            }

            files.forEach(file => {
                if (file.type === "file") {
                    const div = document.createElement("div");
                    div.className = "box";
                    div.innerHTML = `<a href="${file.download_url}" target="_blank">üìÑ ${file.name}</a>`;
                    githubList.appendChild(div);
                }
            });

        } catch (error) {
            githubList.innerHTML = `<p class='error'>‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ${error.message}</p>`;
            console.error("GitHub ‡§∏‡•á ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§:", error);
        }
    };

    // üîπ ‡§™‡§π‡§≤‡•Ä ‡§¨‡§æ‡§∞ ‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç
    fetchGitHubMaterials();
</script>

</body>
</html>
