<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░рд┐рдпрд╛рдБ - JobXSuccess</title>
    <link rel="stylesheet" href="style.css"> <!-- тЬЕ External CSS -->
</head>
<body>

    <!-- ЁЯФ╣ Navigation Bar -->
    <div class="navbar">
        <a href="index.html">ЁЯПа Home</a>
        <a href="jobs.html" class="active">ЁЯУМ Government Jobs</a>
        <a href="study.html">ЁЯУЪ Study Materials</a>
    </div>

    <h1>ЁЯУМ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░рд┐рдпрд╛рдБ</h1>
    
    <!-- тЬЕ рдЬреЙрдмреНрд╕ рд▓рд┐рд╕реНрдЯ -->
    <div id="jobs-container">
        <ul id="jobs-list"></ul>
    </div>

    <!-- ЁЯФе Firebase SDK + Config -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";
        import getFirebaseConfig from "./firebase-config.js"; // тЬЕ Firebase Config Import

        async function initFirebase() {
            try {
                const firebaseConfig = await getFirebaseConfig(); // ЁЯФ╣ Config Load рдХрд░реЗрдВ
                if (!firebaseConfig) {
                    console.error("тЪая╕П Firebase Config рд▓реЛрдб рдирд╣реАрдВ рд╣реЛ рдкрд╛рдпрд╛!");
                    return;
                }

                // тЬЕ Firebase Initialize
                const app = initializeApp(firebaseConfig);
                const db = getDatabase(app);

                // тЬЕ Firebase рд╕реЗ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░реА рдХреА рд▓рд┐рд╕реНрдЯ рд▓реЛрдб рдХрд░рдирд╛
                function fetchJobs() {
                    const jobsList = document.getElementById("jobs-list");
                    const jobsRef = ref(db, "Jobs");

                    onValue(jobsRef, (snapshot) => {
                        jobsList.innerHTML = ""; // ЁЯФ╣ рдкрд╣рд▓реЗ рдХреА рд▓рд┐рд╕реНрдЯ рдХреНрд▓рд┐рдпрд░ рдХрд░реЗрдВ
                        const data = snapshot.val();

                        if (data) {
                            Object.keys(data).forEach((key) => {
                                const job = data[key];
                                const li = document.createElement("li");

                                // тЬЕ рдЕрдЧрд░ рдХреЛрдИ рдбреЗрдЯрд╛ рдорд┐рд╕рд┐рдВрдЧ рд╣реИ рддреЛ "N/A" рджрд┐рдЦрд╛рдПрдВ
                                const title = job.title || "N/A";
                                const company = job.company || "Unknown";
                                const location = job.location || "India";
                                const applyLink = job.applyLink || "#";
                                const lastDate = job.lastDate ? `ЁЯУЕ Last Date: ${job.lastDate}` : "ЁЯУЕ No Deadline";

                                li.classList.add("job"); // тЬЕ CSS Class Add рдХреА
                                li.innerHTML = `
                                    <strong>${title}</strong> - <em>${company}</em> <br>
                                    ЁЯМН Location: ${location} <br>
                                    ${lastDate} <br>
                                    <a href="${applyLink}" target="_blank" class="apply-btn">ЁЯФЧ Apply Now</a>
                                `;
                                jobsList.appendChild(li);
                            });
                        } else {
                            jobsList.innerHTML = "<p>тЪая╕П рдХреЛрдИ рд╕рд░рдХрд╛рд░реА рдиреМрдХрд░реА рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред</p>";
                        }
                    });
                }

                fetchJobs(); // тЬЕ рдлрдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдирд╛ рдордд рднреВрд▓рдирд╛!
            } catch (error) {
                console.error("ЁЯФе Firebase Initialize рдХрд░рдиреЗ рдореЗрдВ рджрд┐рдХреНрдХрдд рдЖрдИ:", error);
            }
        }

        initFirebase();
    </script>

</body>
</html>
